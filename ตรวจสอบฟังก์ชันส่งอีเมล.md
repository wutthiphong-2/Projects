# üìß ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏• - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á

## üìã ‡∏™‡∏£‡∏∏‡∏õ

‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏µ **3 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö API Key:

1. **‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á API Key** (`send_api_key_created`)
2. **‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏ä‡∏£‡πå API Key** (`send_api_key_shared`)
3. **‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á** (`send_api_key_to_self`)

---

## üìß **1. ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á API Key** (`send_api_key_created`)

### **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á API Key ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `send_email: true`
- ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô: `POST /api/api-keys/` endpoint

### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•:**

#### **Subject:**
```
API Key Created: {api_key_name}
```

#### **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏• (HTML Template):**
```html
üîë API Key Created

Hello,

Your API key {api_key_name} has been created successfully.

[API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á - ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°]
{api_key}

‚ö†Ô∏è Important: Save this API key now. You won't be able to see it again after closing this email.

Created by: {created_by}
Expires at: {expires_at}  (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

You can use this API key to authenticate your requests to the API.
```

#### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ:**
- ‚úÖ **API Key** - ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç! ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
- ‚úÖ **API Key Name** - ‡∏ä‡∏∑‡πà‡∏≠ API Key
- ‚úÖ **Created By** - ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á (username)
- ‚úÖ **Expires At** - ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

#### **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**
```python
# backend/app/routers/api_keys.py
email_service.send_api_key_created(
    to_email=email_address,           # ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö
    api_key_name=result["name"],      # ‡∏ä‡∏∑‡πà‡∏≠ API Key
    api_key=result["api_key"],        # API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)
    created_by=token_data.username,   # ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á
    expires_at=result.get("expires_at")  # ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏
)
```

---

## üìß **2. ‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏ä‡∏£‡πå API Key** (`send_api_key_shared`)

### **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå API Key ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô
- ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô: `POST /api/api-keys/{key_id}/send-email` endpoint
- ‚ö†Ô∏è **‡πÑ‡∏°‡πà‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á** - ‡∏™‡πà‡∏á‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•:**

#### **Subject:**
```
API Key Shared: {api_key_name}
```

#### **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏• (HTML Template):**
```html
üîó API Key Shared

Hello,

{shared_by} has shared access to the API key {api_key_name} with you.

[Message Box - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°]
Message from {shared_by}:
{message}

To use this API key, please:
- Contact {shared_by} for the actual API key value
- Visit the API Management portal to access the API key

API Base URL: {api_base_url}
```

#### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ:**
- ‚úÖ **API Key Name** - ‡∏ä‡∏∑‡πà‡∏≠ API Key
- ‚úÖ **Shared By** - ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏ä‡∏£‡πå (username)
- ‚úÖ **Message** - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (optional)
- ‚úÖ **API Base URL** - URL ‡∏Ç‡∏≠‡∏á API server
- ‚ùå **API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á** - **‡πÑ‡∏°‡πà‡∏™‡πà‡∏á** (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)

#### **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**
```python
# backend/app/routers/api_keys.py
email_service.send_api_key_shared(
    to_emails=email_data.emails,      # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö
    api_key_name=key["name"],         # ‡∏ä‡∏∑‡πà‡∏≠ API Key
    shared_by=token_data.username,    # ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏ä‡∏£‡πå
    message=email_data.message,       # ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (optional)
    api_base_url=api_base_url         # URL ‡∏Ç‡∏≠‡∏á API server
)
```

---

## üìß **3. ‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á** (`send_api_key_to_self`)

### **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡πÉ‡∏ä‡πâ:**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô: `POST /api/api-keys/{key_id}/send-to-self` endpoint
- ‚ö†Ô∏è **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á** ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠ regenerate API Key

### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•:**

#### **Subject:**
```
Your API Key: {api_key_name}
```

#### **‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏• (HTML Template):**
```html
üìß Your API Key

Hello,

This is a copy of your API key {api_key_name} that you requested to be sent to your email.

[API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á - ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°]
{api_key}

[Note - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°]
Note: {message}

‚ö†Ô∏è Security Warning: Keep this email secure. This API key provides access to your account. Do not share this email with others.

You can use this API key to authenticate your requests to the API.
```

#### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ:**
- ‚úÖ **API Key** - ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)
- ‚úÖ **API Key Name** - ‡∏ä‡∏∑‡πà‡∏≠ API Key
- ‚úÖ **Message** - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (optional)

#### **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:**
```python
# backend/app/routers/api_keys.py
email_service.send_api_key_to_self(
    to_email=user_email,              # ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö (‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á)
    api_key_name=key["name"],         # ‡∏ä‡∏∑‡πà‡∏≠ API Key
    api_key=api_key,                  # API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏à‡∏≤‡∏Å cache)
    message=email_data.message        # ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (optional)
)
```

#### **‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**
- ‚ö†Ô∏è **API Key ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô cache ‡πÅ‡∏Ñ‡πà 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á** ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠ regenerate
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á regenerate API Key ‡∏Å‡πà‡∏≠‡∏ô

---

## üîß **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SMTP**

### **‡πÑ‡∏ü‡∏•‡πå: `backend/app/core/email.py`**

```python
class EmailService:
    def __init__(self):
        self.smtp_host = getattr(settings, 'SMTP_HOST', 'localhost')
        self.smtp_port = getattr(settings, 'SMTP_PORT', 587)
        self.smtp_username = getattr(settings, 'SMTP_USERNAME', '')
        self.smtp_password = getattr(settings, 'SMTP_PASSWORD', '')
        self.smtp_use_tls = getattr(settings, 'SMTP_USE_TLS', True)
        self.from_email = getattr(settings, 'SMTP_FROM_EMAIL', 'noreply@example.com')
        self.from_name = getattr(settings, 'SMTP_FROM_NAME', 'API Management')
```

### **‡πÑ‡∏ü‡∏•‡πå: `backend/.env`**

```env
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=True
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=API Management
```

---

## üìä **‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö**

| ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô | ‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á? | ‡∏™‡πà‡∏á‡∏ä‡∏∑‡πà‡∏≠ API Key | ‡∏™‡πà‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏ä‡∏£‡πå | ‡∏™‡πà‡∏á API Base URL | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° |
|---------|---------------------|----------------|-------------------|------------------|-----------------|
| `send_api_key_created` | ‚úÖ **‡πÉ‡∏ä‡πà** | ‚úÖ | ‚úÖ (Created By) | ‚ùå | ‚ùå |
| `send_api_key_shared` | ‚ùå **‡πÑ‡∏°‡πà** | ‚úÖ | ‚úÖ (Shared By) | ‚úÖ | ‚úÖ |
| `send_api_key_to_self` | ‚úÖ **‡πÉ‡∏ä‡πà** | ‚úÖ | ‚ùå | ‚ùå | ‚úÖ |

---

## üîç **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á**

### **1. ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡∏£‡πâ‡∏≤‡∏á API Key:**

```
Subject: API Key Created: My Test API Key

üîë API Key Created

Hello,

Your API key My Test API Key has been created successfully.

ak_LQuhu-rz5DV5cJlnI-pslPA1_vkwC-gM58-7CnR-m7eJXiRDwm49Y0wth6OgPqyv

‚ö†Ô∏è Important: Save this API key now. You won't be able to see it again after closing this email.

Created by: administrator
Expires at: 2025-12-31 23:59:59

You can use this API key to authenticate your requests to the API.

This is an automated email. Please do not reply.
```

### **2. ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏ä‡∏£‡πå API Key:**

```
Subject: API Key Shared: My Test API Key

üîó API Key Shared

Hello,

administrator has shared access to the API key My Test API Key with you.

Message from administrator:
This API key is for testing purposes. Please contact me for the actual key.

To use this API key, please:
- Contact administrator for the actual API key value
- Visit the API Management portal to access the API key

API Base URL: http://localhost:8000

This is an automated email. Please do not reply.
```

### **3. ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á:**

```
Subject: Your API Key: My Test API Key

üìß Your API Key

Hello,

This is a copy of your API key My Test API Key that you requested to be sent to your email.

ak_LQuhu-rz5DV5cJlnI-pslPA1_vkwC-gM58-7CnR-m7eJXiRDwm49Y0wth6OgPqyv

Note: Keep this secure

‚ö†Ô∏è Security Warning: Keep this email secure. This API key provides access to your account. Do not share this email with others.

You can use this API key to authenticate your requests to the API.

This is an automated email. Please do not reply.
```

---

## üìÅ **‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á**

### **Email Service:**
- `backend/app/core/email.py` - Email service implementation

### **Email Templates:**
- `backend/app/templates/email/api_key_created.html` - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á API Key
- `backend/app/templates/email/api_key_shared.html` - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå API Key
- `backend/app/templates/email/api_key_sent_to_self.html` - Template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

### **API Endpoints:**
- `backend/app/routers/api_keys.py`:
  - `POST /api/api-keys/` - ‡∏™‡∏£‡πâ‡∏≤‡∏á API Key (‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ñ‡πâ‡∏≤ `send_email: true`)
  - `POST /api/api-keys/{key_id}/send-email` - ‡πÅ‡∏ä‡∏£‡πå API Key
  - `POST /api/api-keys/{key_id}/send-to-self` - ‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

---

## ‚ö†Ô∏è **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á**

### **1. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:**
- ‚ö†Ô∏è **API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á** ‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏• 2 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô (`created` ‡πÅ‡∏•‡∏∞ `to_self`)
- ‚ö†Ô∏è **‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ SMTP ‡∏ó‡∏µ‡πà‡∏°‡∏µ TLS/SSL** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- ‚ö†Ô∏è **‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ API Key ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢**

### **2. ‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå API Key:**
- ‚úÖ **‡πÑ‡∏°‡πà‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á** ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `send_api_key_shared`
- ‚úÖ **‡∏™‡πà‡∏á‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô** ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠ API Key

### **3. ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**
- ‚ö†Ô∏è `send_api_key_to_self` **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á** ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á/regenerate
- ‚ö†Ô∏è ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πâ‡∏≠‡∏á **regenerate API Key** ‡∏Å‡πà‡∏≠‡∏ô

### **4. ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ SMTP:**
- ‚úÖ **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö SMTP settings** ‡πÉ‡∏ô `.env` file
- ‚úÖ **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•** ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ **‡πÉ‡∏ä‡πâ App Password** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Gmail (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥)

---

## üß™ **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

### **1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á API Key ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•:**

```bash
curl -X POST "http://localhost:8000/api/api-keys/" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test Key",
    "description": "For testing",
    "rate_limit_per_minute": 60,
    "rate_limit_per_hour": 1000,
    "permissions": ["users:read"],
    "send_email": true,
    "user_email": "test@example.com"
  }'
```

### **2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ä‡∏£‡πå API Key:**

```bash
curl -X POST "http://localhost:8000/api/api-keys/{key_id}/send-email" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "emails": ["user1@example.com", "user2@example.com"],
    "message": "This API key is for testing"
  }'
```

### **3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á API Key ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á:**

```bash
curl -X POST "http://localhost:8000/api/api-keys/{key_id}/send-to-self" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "user_email": "your-email@example.com",
    "message": "Keep this secure"
  }'
```

---

## üìù **‡∏™‡∏£‡∏∏‡∏õ**

### **‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏• 3 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô:**

1. **`send_api_key_created`** - ‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á, ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏)
2. **`send_api_key_shared`** - ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ä‡∏£‡πå API Key (‡πÑ‡∏°‡πà‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á)
3. **`send_api_key_to_self`** - ‡∏™‡πà‡∏á API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏õ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)

### **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á:**
- ‚úÖ API Key ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (2 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô)
- ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠ API Key
- ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏ä‡∏£‡πå
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (2 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô)
- ‚úÖ API Base URL (1 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô)
- ‚úÖ ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ (1 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô)

---

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!** üéâ

